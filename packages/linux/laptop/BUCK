# Laptop packages - power management, hardware control, wireless, and utilities
# Comprehensive toolset for laptop-specific functionality

# Power management tools
filegroup(
    name = "power",
    srcs = [
        "//packages/linux/laptop/power:all-power",
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

# Brightness control
filegroup(
    name = "brightness",
    srcs = [
        "//packages/linux/laptop/brightness:all-brightness",
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

# Hardware monitoring
filegroup(
    name = "monitoring",
    srcs = [
        "//packages/linux/laptop/monitoring:all-monitoring",
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

# Input devices (touchpad, stylus)
filegroup(
    name = "input",
    srcs = [
        "//packages/linux/laptop/input:all-input",
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

# Wireless (WiFi, Bluetooth)
filegroup(
    name = "wireless",
    srcs = [
        "//packages/linux/laptop/wireless:all-wireless",
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

# Battery utilities
filegroup(
    name = "battery",
    srcs = [
        "//packages/linux/laptop/battery:all-battery",
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

# Essential laptop packages - minimal set for basic functionality
filegroup(
    name = "essential",
    srcs = [
        "//packages/linux/laptop/power:power-essential",
        "//packages/linux/laptop/brightness:brightness-essential",
        "//packages/linux/laptop/monitoring:monitoring-essential",
        "//packages/linux/laptop/input:input-essential",
        "//packages/linux/laptop/wireless:wireless-essential",
        "//packages/linux/laptop/battery:battery-essential",
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

# Console-only laptop packages (no GUI)
filegroup(
    name = "console",
    srcs = [
        "//packages/linux/laptop/power/tlp:tlp",
        # "//packages/linux/laptop/power/acpid:acpid",  # Disabled: automake perl module path issue
        # "//packages/linux/laptop/power/cpupower:cpupower",  # Disabled: requires pciutils
        "//packages/linux/laptop/brightness/brightnessctl:brightnessctl",
        "//packages/linux/laptop/brightness/light:light",
        "//packages/linux/laptop/monitoring/lm-sensors:lm-sensors",
        "//packages/linux/laptop/monitoring/acpi:acpi",
        # "//packages/linux/laptop/monitoring/powertop:powertop",  # Disabled: autoreconf fails - Automake::Config Perl module not found
        "//packages/linux/laptop/input/libevdev:libevdev",
        "//packages/linux/laptop/input/libinput:libinput",
        "//packages/linux/laptop/wireless/iwd:iwd",
        "//packages/linux/laptop/battery/upower:upower",
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

# Desktop/GUI laptop packages
filegroup(
    name = "desktop",
    srcs = [
        ":essential",
        "//packages/linux/laptop/wireless/blueman:blueman",
        # "//packages/linux/laptop/brightness/ddcutil:ddcutil",  # Disabled: automake perl module path issue
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

# ThinkPad-specific packages
filegroup(
    name = "thinkpad",
    srcs = [
        ":essential",
        # "//packages/linux/laptop/battery/tp_smapi:tp_smapi",  # Disabled: kernel module requires root to install
        # "//packages/linux/laptop/battery/acpi_call:acpi_call",  # Disabled: kernel module requires INSTALL_MOD_PATH support
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

# Intel-specific packages
filegroup(
    name = "intel",
    srcs = [
        ":essential",
        "//packages/linux/laptop/power/thermald:thermald",
        # "//packages/linux/laptop/monitoring/i7z:i7z",  # Disabled: ncurses libtinfow linking and duplicate symbol issues
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

# Power-efficient profile for maximum battery life
filegroup(
    name = "power-efficient",
    srcs = [
        "//packages/linux/laptop/power/tlp:tlp",
        "//packages/linux/laptop/power/auto-cpufreq:auto-cpufreq",
        "//packages/linux/laptop/power/thermald:thermald",
        # "//packages/linux/laptop/monitoring/powertop:powertop",  # Disabled: autoreconf fails - Automake::Config Perl module not found
        "//packages/linux/laptop/battery/laptop-mode-tools:laptop-mode-tools",
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

# All laptop packages
filegroup(
    name = "all",
    srcs = [
        ":power",
        ":brightness",
        ":monitoring",
        ":input",
        ":wireless",
        ":battery",
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)
