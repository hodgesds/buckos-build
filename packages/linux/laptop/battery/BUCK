# Battery management packages for laptops

filegroup(
    name = "power-abstraction",
    srcs = [
        "//packages/linux/laptop/battery/upower:upower",
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

filegroup(
    name = "kernel-modules",
    srcs = [
        # "//packages/linux/laptop/battery/acpi_call:acpi_call",  # Disabled: kernel module requires INSTALL_MOD_PATH support
        # "//packages/linux/laptop/battery/tp_smapi:tp_smapi",  # Disabled: kernel module requires root to install
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

filegroup(
    name = "power-saving",
    srcs = [
        "//packages/linux/laptop/battery/laptop-mode-tools:laptop-mode-tools",
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

filegroup(
    name = "battery-essential",
    srcs = [
        "//packages/linux/laptop/battery/upower:upower",
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

filegroup(
    name = "thinkpad",
    srcs = [
        # "//packages/linux/laptop/battery/tp_smapi:tp_smapi",  # Disabled: kernel module requires root to install
        # "//packages/linux/laptop/battery/acpi_call:acpi_call",  # Disabled: kernel module requires INSTALL_MOD_PATH support
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)

filegroup(
    name = "all-battery",
    srcs = [
        "//packages/linux/laptop/battery/upower:upower",
        # "//packages/linux/laptop/battery/acpi_call:acpi_call",  # Disabled: kernel module requires INSTALL_MOD_PATH support
        # "//packages/linux/laptop/battery/tp_smapi:tp_smapi",  # Disabled: kernel module requires root to install
        "//packages/linux/laptop/battery/laptop-mode-tools:laptop-mode-tools",
    ],
    default_target_platform = "//platforms:linux-target",
    visibility = ["PUBLIC"],
)
