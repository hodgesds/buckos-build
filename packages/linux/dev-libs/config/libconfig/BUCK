load("//defs:package_defs.bzl", "download_source", "configure_make_package")
load("//defs:use_flags.bzl", "use_package", "set_use_flags", "use_dep")

download_source(
    name = "libconfig-src",
    src_uri = "https://github.com/hyperrealm/libconfig/releases/download/v1.7.3/libconfig-1.7.3.tar.gz",
    sha256 = "545166d6cac037744381d1e9cc5a5405094e7bfad16a411699bcff40bbb31ee7",
)

configure_make_package(
    name = "libconfig",
    source = ":libconfig-src",
    version = "1.7.3",
    description = "C/C++ library for processing configuration files",
    homepage = "https://hyperrealm.github.io/libconfig/",
    license = "LGPL-2.1+",
    configure_args = [
        "--disable-static",
        "--disable-examples",
        "--disable-tests",
    ],
    visibility = ["PUBLIC"],
)
