load("//defs:package_defs.bzl", "download_source", "configure_make_package", "binary_package")
load("//defs:use_flags.bzl", "use_package", "set_use_flags")

# =============================================================================
# net-tools - Traditional network utilities (ifconfig, netstat, route)
# =============================================================================

use_package(
    name = "net-tools",
    version = "2.10",
    src_uri = "https://sourceforge.net/projects/net-tools/files/net-tools-2.10.tar.xz/download",
    sha256 = "b262435a5241e89f9f2edf7221e0be939a34a9ad3f5723b4e467f56c3f1b0c94",

    iuse = ["nls", "ipv6"],
    use_defaults = ["ipv6"],


    use_configure = {
        "nls": "--enable-nls",
        "-nls": "--disable-nls",
        "ipv6": "--enable-ipv6",
        "-ipv6": "--disable-ipv6",
    },

    deps = [],

    pre_configure = """
# net-tools uses a custom config system
yes "" | make config
""",

    post_install = """
make DESTDIR="$DESTDIR" install
""",

    description = "Traditional network utilities (ifconfig, netstat, route)",
    homepage = "https://sourceforge.net/projects/net-tools/",
    license = "GPL-2.0",
    visibility = ["PUBLIC"],
)
