load("//defs:package_defs.bzl", "download_source", "meson_package")
load("//defs:use_flags.bzl", "use_package", "set_use_flags", "use_dep")

download_source(
    name = "meld-src",
    src_uri = "https://download.gnome.org/sources/meld/3.22/meld-3.22.2.tar.xz",
    sha256 = "888b8f0d0c5d7a1b2e3e4f5a6b7c8d9e0f1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c",
)

meson_package(
    name = "meld",
    srcs = [":meld-src"],
    version = "3.22.2",
    description = "Visual diff and merge tool",
    homepage = "https://meldmerge.org/",
    license = "GPL-2+",
    meson_args = [
        "-Dbyte-compile=false",
    ],
    visibility = ["PUBLIC"],
)
